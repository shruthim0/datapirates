<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="twitter:card" content="summary_large_image" /><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Nutrition Wizard | fresh</title>
<meta name="generator" content="Jekyll v4.1.1" />
<meta property="og:title" content="Nutrition Wizard" />
<meta property="og:locale" content="en_US" />
<link rel="canonical" href="https://shruthim0.github.io/datapirates/Nutrition%20Wizard/" />
<meta property="og:url" content="https://shruthim0.github.io/datapirates/Nutrition%20Wizard/" />
<meta property="og:site_name" content="fresh" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Nutrition Wizard" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","headline":"Nutrition Wizard","url":"https://shruthim0.github.io/datapirates/Nutrition%20Wizard/"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/datapirates/assets/css/style.css"><link type="application/atom+xml" rel="alternate" href="https://shruthim0.github.io/datapirates/feed.xml" title="fresh" /><link rel="shortcut icon" type="image/x-icon" href="/datapirates/images/pflag.ico"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Primer/15.2.0/primer.css" integrity="sha512-xTz2ys4coGAOz8vuV1NcQBkgVmKhsSEtjbqyMJbBHRplFuvKIUo6xhLHpAyPt9mfR6twHJgn9OgVLuqOvjeBhg==" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css" integrity="sha512-1PKOgIY59xJ8Co8+NE6FZ+LOAZKjy+KY8iq0G4B3CyeY6wYHN3yt9PW0XpSriVlkMXe40PTKnXrLnZ9+fkDaog==" crossorigin="anonymous" />

<script>
function wrap_img(fn) {
    if (document.attachEvent ? document.readyState === "complete" : document.readyState !== "loading") {
        var elements = document.querySelectorAll(".post img");
        Array.prototype.forEach.call(elements, function(el, i) {
            if (el.getAttribute("title") && (el.className != "emoji")) {
                const caption = document.createElement('figcaption');
                var node = document.createTextNode(el.getAttribute("title"));
                caption.appendChild(node);
                const wrapper = document.createElement('figure');
                wrapper.className = 'image';
                el.parentNode.insertBefore(wrapper, el);
                el.parentNode.removeChild(el);
                wrapper.appendChild(el);
                wrapper.appendChild(caption);
            }
        });
    } else { document.addEventListener('DOMContentLoaded', fn); }
}
window.onload = wrap_img;
</script>

<script>
    document.addEventListener("DOMContentLoaded", function(){
    // add link icon to anchor tags
    var elem = document.querySelectorAll(".anchor-link")
    elem.forEach(e => (e.innerHTML = '<i class="fas fa-link fa-xs"></i>'));
    });
</script>
</head>
<body><header class="site-header">

  <div class="wrapper"><a class="site-title" rel="author" href="/datapirates/">fresh</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/datapirates/Nutrition%20Wizard/">Nutrition Wizard</a><a class="page-link" href="/datapirates/foodforyourmood/">Food For Your Mood</a><a class="page-link" href="/datapirates/_pages/finalmealsearch.html">Fantastic Food Finder</a><a class="page-link" href="/datapirates/search/">Search</a><a class="page-link" href="/datapirates/feedback/">Feedback</a><a class="page-link" href="/datapirates/whatsinyourfridge/">What&#39;s in Your Fridge?</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <!DOCTYPE html>

<html>
<head>
<style>
body {
  background-color: #FFE5B4;
}

    div.container {
background-color:#FF7F50;
}
div.container p {
font-family: Georgia;
font-size: 50px;
font-style: normal;
text-align: center;
font-weight: normal;
text-decoration: underline;
text-transform: none;
color: #ffffff;
background-color: #DC143C;
}
div.container h5 {
text-align: center;
font-family: Georgia;
}

.button {
  background-color: #37FA90;
  border: none;
  color: white;
  padding: 15px 64px;
  text-align: center;
  text-decoration: none;
  display: inline-block;
  font-size: 35px;
  margin: 115px 265px;
  cursor: pointer;
}
</style>

<title>Nutrition Wizard</title>

</head>
<body>
<div class="container">
<p>ÔºäÀö*‚Ä¢Ã©Ã©Õô‚ú©‚Ä¢Ã©Ã©Õô*ÀöNutrition WizardÀö*‚Ä¢Ã©Ã©Õô‚ú©‚Ä¢Ã©Ã©Õô*ÀöÔºä</p>
<h5>‚ÄúOne cannot think well, love well, sleep well if one has not dined well.‚Äù</h5>
<h5>LEARN. CALULCATE. SAVE. </h5>
</div>
<body>
   <img src="https://www.rti.org/sites/default/files/impact-hero-images/ia_food_hero.jpg" alt="" >
</body>

<title>W3.CSS</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<body>

<div class="w3-container">

  <div class="w3-card-4" style="width:100%;">
    <header class="w3-container w3-pink">
      <h1>ü•óAbout the Nutrition Wizardü•ó</h1>
    </header>

  <div class="w3-container">
      <p>The Nutrition Wizard allows you to calulcate the nutrition facts for the ingredients you put in (you can put in more than 1 ingredient). It also allows you to save the nutrition facts of that ingredient so you can always go back and look at them. And lastly you can also attain knowledge on the number of calories you still need to consume depending on your age. Enjoy the many features Nutrition Wizard has to offer and dont forget to LEARN. SAVE. AND CALCULATE!</p>
    </div>

    <footer class="w3-container w3-orange">
      <h5>.</h5>
    </footer>
  </div>
</div>

</body>

<br />
<br />

<div>
<form id="nutritionform">
  <h4>Please enter the ingredients and their amount (make sure to separate each ingredient with "and"):</h4>
  <textarea id="input" rows="7" cols="125"></textarea>
</form>

<br />

<button class="button" onclick="analyze()">‚≠í‚ùÉAnalyze‚ùÉ‚≠í</button>
</div>

<div id="result">
</div>


// NOTE: I used w3schools as a reference for some parts of the code, but I changed it accordingly to my requirements.
// I also refernced developer.mozilla.org for the table formating and javascript code

// This function gets the user input from the input field on the HTML page 
function getInputForAnalyse() { 
  const input = document.getElementById("input").value;
    // this code passes the user input into the analyze function for further processing
  <script>
  analyze(input);
}
// This function sends the user input to an external API to retrieve nutritional information and displays it in a table
function analyze(input) {
  if (input == "") {
// If the user input is empty, it sends an alert message and asks the user to enter an ingredient
    alert("Please enter an ingredient!");
  }
  else {
  // If the user input is not empty, it builds the API endpoint URL with the user input as the ingredient to analyze
    const url = `https://edamam-edamam-nutrition-analysis.p.rapidapi.com/api/nutrition-data?ingr=${input}`;
    const headers = { 
      // use of api to get the nutrition facts, api from rapidapi
      "X-RapidAPI-Host": "edamam-edamam-nutrition-analysis.p.rapidapi.com",
      "X-RapidAPI-Key": "afae82f074msh729fe72b128081fp1f40f4jsn36bd559b1ce4"
    };

    // Save the ingredients in a table
  // creates a table to display the ingredients and add the user input as a new row in the table
    const ingredientsTable = document.getElementById("ingredients-table");
    const row = ingredientsTable.insertRow();
    const cell = row.insertCell();
    cell.innerHTML = input;
// fetch the nutritional information from the external API and display the results in a new table

    fetch(url, {
      method: "GET",
      headers: headers
    })
      .then(response => response.json())
      .then(data => {
        const nutrients = data.totalNutrients; // LIST CREATION USING THE DATA FROM THE API
        ingredientsTableC(nutrients); // PROCEDURAL CALL WITH PROPER ARGUMENT
      });
  }
}
// This function takes the nutritional information retrieved from the API and displays it in a table

function ingredientsTableC(nutrients) {  //  PARAMETER
  if(nutrients == ""){ //SELECTION STATEMENT
  
    alert("Please check the name of ingredient. No information from server.");
  }
  else{ //SELECTION STATEMENT
    const table = document.createElement("table");
        table.innerHTML = `
          <tr>
            <th>Nutrient</th>
            <th>Quantity</th>
            <th>Unit</th>
          </tr>
        `;
    // Iterate over each nutrient in the nutrients list and create a new row for each nutrient in the table
    for (let nutrient in nutrients) { // ITERATION STATEMENT
      var n = nutrients[nutrient];
      const row = document.createElement("tr"); // EXTRACTING EACH ELEMENT OF THE LIST AND USING IT 
      row.innerHTML = `
              <td>${n.label}</td>
              <td>${n.quantity.toFixed(2)}</td>
              <td>${n.unit}</td>
            `;
      table.appendChild(row);
    }
    // Display the nutritional information table in the HTML page

    const result = document.getElementById("result"); //SEQUENCING STATEMENTS 72-74
    result.innerHTML = "";
    result.appendChild(table);
  }
  
}

let savednutritionfacts = []; //use of list, empty list, info stored in here than later showed in table
// This function adds a new food item to the list of saved nutrition facts

function addFood() {
  let Ingredient = document.getElementById("Ingredient").value;
  let calories = parseInt(document.getElementById("calories").value);
  let fats = parseInt(document.getElementById("fats").value);
  let proteins = parseInt(document.getElementById("proteins").value);
  let carbs = parseInt(document.getElementById("carbs").value);
  if(Ingredient ==""){
    alert("Food name should be given.");
  }
  else{
    let food = {
      name: Ingredient,
      calories: calories,
      fats: fats,
      proteins: proteins,
      carbs: carbs
    };
   // Here I am adding the food object to the savednutritionfacts array
    savednutritionfacts.push(food);
  
    let foodTable = document.getElementById("foodTable");
    let row = foodTable.insertRow();
    let nameCell = row.insertCell();
    let caloriesCell = row.insertCell();
    let fatsCell = row.insertCell();
    let proteinsCell = row.insertCell();
    let carbsCell = row.insertCell();
    nameCell.innerHTML = food.name;
    caloriesCell.innerHTML = food.calories;
    fatsCell.innerHTML = food.fats;
    proteinsCell.innerHTML = food.proteins;
    carbsCell.innerHTML = food.carbs;
  
    document.getElementById("Ingredient").value = "";
    document.getElementById("calories").value = "";
    document.getElementById("fats").value = "";
    document.getElementById("proteins").value = "";
    document.getElementById("carbs").value = "";
  }
  
}

function calcCal() {
  // get user input
  // NOTE: recommended calories according to age info taken from a table provided by FDA
  var age = parseInt(document.getElementById("age").value);
  if(isNaN(age)|| age < 0 || age > 110 ) {
    alert("Please input a valid age.");
  }
  else{
    var calCon = document.getElementById("calCon").value;
  // calculating recommended calories according to the age
  var recCal = 0;
  if (age <= 3) {
  recCal = 1000;
} else if (age == 4 || age <= 5) {
  recCal = 1200;
} else if (age == 6 || age <= 8) {
  recCal = 1400;
} else if (age == 9 || age <= 10) {
  recCal = 1600;
} else if (age == 11 || age <= 12) {
  recCal = 1800;
} else if (age == 13 || age <= 14) {
  recCal = 2000;
} else if (age == 15) {
  recCal = 2200;
} else if (age == 16 || age <= 18) {
  recCal = 2400;
} else if (age == 19 || age <= 20) {
  recCal = 2600;
} else if (age == 21 || age <= 40) {
  recCal = 2400;
} else if (age == 41 || age <= 60) {
  recCal = 2200;
} else {
  recCal = 2000;
}

// very important because this part calculates the remaining calories needed to meet the recommended daily intake
  var remainCal = parseInt(recCal) - calCon;

  // output result
  var output = document.getElementById("output");
  output.innerHTML = "Hi! Based on your age, you should consume " + recCal + " calories per day. You have consumed " + calCon + " calories today. You still need to consume " + remainCal + " calories to meet your daily requirement. STAY FIT AND STAY HEALTHY";
  }
  
}

</script>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/datapirates/"></data>

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col">
        <p class="feed-subscribe">
          <a href="https://shruthim0.github.io/datapirates/feed.xml">
            <svg class="svg-icon orange">
              <use xlink:href="/datapirates/assets/minima-social-icons.svg#rss"></use>
            </svg><span>Subscribe</span>
          </a>
        </p>
      </div>
      <div class="footer-col">
        <p></p>
      </div>
    </div>

    <div class="social-links"><ul class="social-media-list"><li>
  <a rel="me" href="‚Äù https://github.com/nighthawkcoders ‚Äú" target="_blank" title="github">
    <svg class="svg-icon grey">
      <use xlink:href="/datapirates/assets/minima-social-icons.svg#github"></use>
    </svg>
  </a>
</li>
<li>
  <a rel="me" href="‚Äù https://twitter.com/NighthawkCoding ‚Äú" target="_blank" title="twitter">
    <svg class="svg-icon grey">
      <use xlink:href="/datapirates/assets/minima-social-icons.svg#twitter"></use>
    </svg>
  </a>
</li>
<li>
  <a rel="me" href="‚Äù https://www.youtube.com/channel/UClIKOsDS5dsfzFA3zveDT3Q ‚Äú" target="_blank" title="youtube">
    <svg class="svg-icon grey">
      <use xlink:href="/datapirates/assets/minima-social-icons.svg#youtube"></use>
    </svg>
  </a>
</li>
</ul>
</div>

  </div>

</footer>
</body>

</html>
