---
layout: base
permalink: /Nutrition Wizard/
title: Nutrition Wizard
search_exclude: true
---
<!DOCTYPE html>

<html>
<head>
<style>
body {
  background-color: #FFE5B4;
}

    div.container {
background-color:#FF7F50;
}
div.container p {
font-family: Georgia;
font-size: 50px;
font-style: normal;
text-align: center;
font-weight: normal;
text-decoration: underline;
text-transform: none;
color: #ffffff;
background-color: #DC143C;
}
div.container h5 {
text-align: center;
font-family: Georgia;
}

.button {
  background-color: #37FA90;
  border: none;
  color: white;
  padding: 15px 64px;
  text-align: center;
  text-decoration: none;
  display: inline-block;
  font-size: 35px;
  margin: 115px 265px;
  cursor: pointer;
}
</style>

<title>Nutrition Wizard</title>

</head>
<body>
<div class="container">
<p>ÔºäÀö*‚Ä¢Ã©Ã©Õô‚ú©‚Ä¢Ã©Ã©Õô*ÀöNutrition WizardÀö*‚Ä¢Ã©Ã©Õô‚ú©‚Ä¢Ã©Ã©Õô*ÀöÔºä</p>
<h5>‚ÄúOne cannot think well, love well, sleep well if one has not dined well.‚Äù</h5>
<h5>LEARN. CALULCATE. SAVE. </h5>
</div>
<body>
   <img src="https://www.rti.org/sites/default/files/impact-hero-images/ia_food_hero.jpg" alt="" >
</body>

<title>W3.CSS</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<body>

<div class="w3-container">

  <div class="w3-card-4" style="width:100%;">
    <header class="w3-container w3-pink">
      <h1>ü•óAbout the Nutrition Wizardü•ó</h1>
    </header>

  <div class="w3-container">
      <p>The Nutrition Wizard allows you to calulcate the nutrition facts for the ingredients you put in (you can put in more than 1 ingredient). It also allows you to save the nutrition facts of that ingredient so you can always go back and look at them. And lastly you can also attain knowledge on the number of calories you still need to consume depending on your age. Enjoy the many features Nutrition Wizard has to offer and dont forget to LEARN. SAVE. AND CALCULATE!</p>
    </div>

    <footer class="w3-container w3-orange">
      <h5>.</h5>
    </footer>
  </div>
</div>

</body>

<br />
<br />

<div>
<form id="nutritionform">
  <h4>Please enter the ingredients and their amount (make sure to separate each ingredient with "and"):</h4>
  <textarea id="input" rows="7" cols="125"></textarea>
</form>

<br />

<button class="button" onclick="analyze()">‚≠í‚ùÉAnalyze‚ùÉ‚≠í</button>
</div>

<div id="result">
</div>


<script>
function getInputForAnalyse() { 
  const input = document.getElementById("input").value;
    // this code passes the user input into the analyze function for further processing
 
  analyze(input);
}
// This function sends the user input to an external API to retrieve nutritional information and displays it in a table
function analyze(input) {
  if (input == "") {
// If the user input is empty, it sends an alert message and asks the user to enter an ingredient
    alert("Please enter an ingredient!");
  }
  else {
  // If the user input is not empty, it builds the API endpoint URL with the user input as the ingredient to analyze
    const url = `https://edamam-edamam-nutrition-analysis.p.rapidapi.com/api/nutrition-data?ingr=${input}`;
    const headers = { 
      // use of api to get the nutrition facts, api from rapidapi
      "X-RapidAPI-Host": "edamam-edamam-nutrition-analysis.p.rapidapi.com",
      "X-RapidAPI-Key": "afae82f074msh729fe72b128081fp1f40f4jsn36bd559b1ce4"
    };

    // Save the ingredients in a table
  // creates a table to display the ingredients and add the user input as a new row in the table
    const ingredientsTable = document.getElementById("ingredients-table");
    const row = ingredientsTable.insertRow();
    const cell = row.insertCell();
    cell.innerHTML = input;
// fetch the nutritional information from the external API and display the results in a new table

    fetch(url, {
      method: "GET",
      headers: headers
    })
      .then(response => response.json())
      .then(data => {
        const nutrients = data.totalNutrients; // LIST CREATION USING THE DATA FROM THE API
        ingredientsTableC(nutrients); // PROCEDURAL CALL WITH PROPER ARGUMENT
      });
  }
}
// This function takes the nutritional information retrieved from the API and displays it in a table

function ingredientsTableC(nutrients) {  //  PARAMETER
  if(nutrients == ""){ //SELECTION STATEMENT
  
    alert("Please check the name of ingredient. No information from server.");
  }
  else{ //SELECTION STATEMENT
    const table = document.createElement("table");
        table.innerHTML = `
          <tr>
            <th>Nutrient</th>
            <th>Quantity</th>
            <th>Unit</th>
          </tr>
        `;
    // Iterate over each nutrient in the nutrients list and create a new row for each nutrient in the table
    for (let nutrient in nutrients) { // ITERATION STATEMENT
      var n = nutrients[nutrient];
      const row = document.createElement("tr"); // EXTRACTING EACH ELEMENT OF THE LIST AND USING IT 
      row.innerHTML = `
              <td>${n.label}</td>
              <td>${n.quantity.toFixed(2)}</td>
              <td>${n.unit}</td>
            `;
      table.appendChild(row);
    }
    // Display the nutritional information table in the HTML page

    const result = document.getElementById("result"); //SEQUENCING STATEMENTS 72-74
    result.innerHTML = "";
    result.appendChild(table);
  }
  
}

let savednutritionfacts = []; //use of list, empty list, info stored in here than later showed in table
// This function adds a new food item to the list of saved nutrition facts

function addFood() {
  let Ingredient = document.getElementById("Ingredient").value;
  let calories = parseInt(document.getElementById("calories").value);
  let fats = parseInt(document.getElementById("fats").value);
  let proteins = parseInt(document.getElementById("proteins").value);
  let carbs = parseInt(document.getElementById("carbs").value);
  if(Ingredient ==""){
    alert("Food name should be given.");
  }
  else{
    let food = {
      name: Ingredient,
      calories: calories,
      fats: fats,
      proteins: proteins,
      carbs: carbs
    };
   // Here I am adding the food object to the savednutritionfacts array
    savednutritionfacts.push(food);
  
    let foodTable = document.getElementById("foodTable");
    let row = foodTable.insertRow();
    let nameCell = row.insertCell();
    let caloriesCell = row.insertCell();
    let fatsCell = row.insertCell();
    let proteinsCell = row.insertCell();
    let carbsCell = row.insertCell();
    nameCell.innerHTML = food.name;
    caloriesCell.innerHTML = food.calories;
    fatsCell.innerHTML = food.fats;
    proteinsCell.innerHTML = food.proteins;
    carbsCell.innerHTML = food.carbs;
  
    document.getElementById("Ingredient").value = "";
    document.getElementById("calories").value = "";
    document.getElementById("fats").value = "";
    document.getElementById("proteins").value = "";
    document.getElementById("carbs").value = "";
  }
  
}

function calcCal() {
  // get user input
  // NOTE: recommended calories according to age info taken from a table provided by FDA
  var age = parseInt(document.getElementById("age").value);
  if(isNaN(age)|| age < 0 || age > 110 ) {
    alert("Please input a valid age.");
  }
  else{
    var calCon = document.getElementById("calCon").value;
  // calculating recommended calories according to the age
  var recCal = 0;
  if (age <= 3) {
  recCal = 1000;
} else if (age == 4 || age <= 5) {
  recCal = 1200;
} else if (age == 6 || age <= 8) {
  recCal = 1400;
} else if (age == 9 || age <= 10) {
  recCal = 1600;
} else if (age == 11 || age <= 12) {
  recCal = 1800;
} else if (age == 13 || age <= 14) {
  recCal = 2000;
} else if (age == 15) {
  recCal = 2200;
} else if (age == 16 || age <= 18) {
  recCal = 2400;
} else if (age == 19 || age <= 20) {
  recCal = 2600;
} else if (age == 21 || age <= 40) {
  recCal = 2400;
} else if (age == 41 || age <= 60) {
  recCal = 2200;
} else {
  recCal = 2000;
}

// very important because this part calculates the remaining calories needed to meet the recommended daily intake
  var remainCal = parseInt(recCal) - calCon;

  // output result
  var output = document.getElementById("output");
  output.innerHTML = "Hi! Based on your age, you should consume " + recCal + " calories per day. You have consumed " + calCon + " calories today. You still need to consume " + remainCal + " calories to meet your daily requirement. STAY FIT AND STAY HEALTHY";
  }
  
}

</script>
